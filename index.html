<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body{
            background: black;
            color: salmon;
        }
        #demo{
            text-align: center;
            padding-top: 300px;
        }
       
        .active{
            transform: translate(0px,0px) rotate(0deg) !important;
        }
        span{
            display: inline-block;
            transition: all 3s;
        }
		#demo span:nth-child(2){
			color: green;
		}
    </style>
</head>
<body>
    <button id="btn">聚</button>
	<button id="btn2">散</button>
    <div id="demo">

    </div>
    <script>
        var str = `不管全世界所有人怎么说，我都认为自己的感受才是正确的。无论别人怎么看，我绝不打乱自己的节奏。喜欢的事自然可以坚持，不喜欢怎么也长久不了。`;
        var arr = str.split('');
        var demo = document.getElementById('demo');
        var btn = document.getElementById('btn');
		var btn2 = document.getElementById('btn2');
        for(var i = 0;i < arr.length;i++){
            var span = document.createElement('span');
            span.innerHTML = arr[i];
            demo.appendChild(span);
            var tep = Math.random()*10;
            if(i%2==0){
                tep = -tep
            }
            span.style.transform = 'translate('+700*tep+'px,'+900*tep+'px)' + ' rotate('+700*tep+'deg)';
        }

        var chilren = demo.children;
        btn.onclick = function(){
            for(var i=0;i<chilren.length;i++){
                (function(i){
                    var _random = Math.random();
                    setTimeout(function(){
                        chilren[i].classList.add('active');
                    },_random*1000);
                })(i);
            }
        };
		 btn2.onclick = function(){
            for(var i=0;i<chilren.length;i++){
                (function(i){
                    var _random = Math.random();
                    setTimeout(function(){
                        chilren[i].classList.remove('active');
                    },_random*2000);
                })(i);
            }
        };
    </script>
</body>
</html>
